{"ast":null,"code":"import _asyncToGenerator from \"@babel/runtime/helpers/asyncToGenerator\";\nimport View from \"react-native-web/dist/exports/View\";\nimport Image from \"react-native-web/dist/exports/Image\";\nimport Text from \"react-native-web/dist/exports/Text\";\nimport StyleSheet from \"react-native-web/dist/exports/StyleSheet\";\nimport ImageBackground from \"react-native-web/dist/exports/ImageBackground\";\nimport Pressable from \"react-native-web/dist/exports/Pressable\";\nimport { Entypo, MaterialIcons } from '@expo/vector-icons';\nimport axios from 'axios';\nimport { useDispatch, useSelector } from 'react-redux';\nimport { useEffect, useRef } from 'react';\nimport { accessChat } from \"../../features/chat/chatSlice\";\nimport { useNavigation } from '@react-navigation/native';\nimport { getSenderFull } from \"../../ChatConfig/ChatLogics\";\nimport { ChatState } from \"../../context/ChatProvider\";\nimport { API_BASE_URL } from \"../../utils/config\";\nimport { jsx as _jsx } from \"react/jsx-runtime\";\nimport { jsxs as _jsxs } from \"react/jsx-runtime\";\nvar TravelerCard = function TravelerCard(_ref) {\n  var traveler = _ref.traveler;\n  var _useSelector = useSelector(function (state) {\n      return state.auth;\n    }),\n    user = _useSelector.user;\n  var _ChatState = ChatState(),\n    selectedChat = _ChatState.selectedChat,\n    setSelectedChat = _ChatState.setSelectedChat,\n    chats = _ChatState.chats,\n    setChats = _ChatState.setChats,\n    chatSelected = _ChatState.chatSelected,\n    setchatSelected = _ChatState.setchatSelected;\n  var dispatch = useDispatch();\n  var navigation = useNavigation();\n  var travelerId = useRef(null);\n  var moveToChatScreen = function () {\n    var _ref2 = _asyncToGenerator(function* (travId) {\n      alert('hey');\n    });\n    return function moveToChatScreen(_x) {\n      return _ref2.apply(this, arguments);\n    };\n  }();\n  return _jsxs(View, {\n    style: styles.container,\n    children: [_jsxs(View, {\n      style: {\n        width: '35%'\n      },\n      children: [_jsx(Image, {\n        source: {\n          uri: traveler.profilePic\n        },\n        style: styles.image,\n        resizeMode: \"cover\"\n      }), _jsxs(View, {\n        style: styles.location_container,\n        children: [_jsx(Entypo, {\n          name: \"location-pin\",\n          size: 20,\n          color: \"red\"\n        }), _jsxs(View, {\n          children: [_jsxs(Text, {\n            style: styles.text_loc,\n            children: [traveler.city, \",\"]\n          }), _jsx(Text, {\n            style: styles.text_loc2,\n            children: traveler.country\n          })]\n        })]\n      })]\n    }), _jsxs(View, {\n      style: {\n        width: '70%',\n        paddingHorizontal: 10\n      },\n      children: [_jsx(Text, {\n        style: {\n          fontSize: 20,\n          marginTop: 2\n        },\n        children: traveler.firstName + \" \" + traveler.lastName\n      }), _jsxs(View, {\n        style: styles.destination,\n        children: [_jsx(MaterialIcons, {\n          name: \"flight-takeoff\",\n          size: 24,\n          color: \"#593196\",\n          style: {\n            marginRight: 2\n          }\n        }), _jsxs(Text, {\n          style: {\n            fontWeight: 'bold',\n            fontSize: 15,\n            marginRight: 2,\n            marginTop: 3,\n            color: '#13b955'\n          },\n          children: [traveler.destination_city, \",\"]\n        }), _jsx(Text, {\n          style: {\n            fontSize: 15,\n            marginTop: 3,\n            color: '#13b955'\n          },\n          children: traveler.destination_country\n        })]\n      }), _jsx(View, {\n        style: styles.date,\n        children: _jsx(Text, {\n          style: {\n            fontWeight: \"\",\n            color: '#343a40'\n          },\n          children: traveler.flight_date\n        })\n      }), _jsx(View, {\n        style: styles.space,\n        children: _jsx(View, {\n          style: {\n            paddingVertical: 5\n          },\n          children: _jsx(Text, {\n            style: {\n              fontWeight: 'bold',\n              fontSize: 18\n            },\n            children: traveler.space_left\n          })\n        })\n      }), _jsx(Pressable, {\n        style: {\n          backgroundColor: '#a991d4',\n          width: 200,\n          alignItems: 'center',\n          marginVertical: 4,\n          paddingVertical: 5\n        },\n        onPress: function onPress() {\n          return moveToChatScreen(traveler._id);\n        },\n        children: _jsx(Text, {\n          style: {\n            fontSize: 18\n          },\n          children: \"Start chatting\"\n        })\n      })]\n    }), _jsx(View, {\n      children: _jsx(Pressable, {\n        children: _jsx(Text, {\n          style: {\n            color: \"black\",\n            fontSize: 18\n          },\n          children: \"View profile\"\n        })\n      })\n    })]\n  });\n};\nvar styles = StyleSheet.create({\n  container: {\n    flexDirection: 'row',\n    backgroundColor: 'white',\n    flex: 1,\n    marginBottom: 8,\n    height: 170,\n    paddingVertical: 10,\n    paddingHorizontal: 5,\n    borderBottomWidth: StyleSheet.hairlineWidth,\n    borderColor: '#E8E8E8',\n    shadowColor: \"#000\",\n    shadowOffset: {\n      width: 0,\n      height: 1\n    },\n    shadowOpacity: 0.18,\n    shadowRadius: 1.00,\n    elevation: 1\n  },\n  image: {\n    height: 100,\n    width: 100,\n    borderStyle: 'solid',\n    borderWidth: 2,\n    borderColor: '#13b955'\n  },\n  location_container: {\n    flexDirection: 'row',\n    paddingVertical: 5\n  },\n  destination: {\n    flexDirection: 'row',\n    marginVertical: 5,\n    borderRadius: 30,\n    paddingHorizontal: 6,\n    width: 220\n  },\n  space: {\n    width: 70\n  }\n});\nexport default TravelerCard;","map":{"version":3,"names":["Entypo","MaterialIcons","axios","useDispatch","useSelector","useEffect","useRef","accessChat","useNavigation","getSenderFull","ChatState","API_BASE_URL","TravelerCard","traveler","state","auth","user","selectedChat","setSelectedChat","chats","setChats","chatSelected","setchatSelected","dispatch","navigation","travelerId","moveToChatScreen","travId","alert","styles","container","width","uri","profilePic","image","location_container","text_loc","city","text_loc2","country","paddingHorizontal","fontSize","marginTop","firstName","lastName","destination","marginRight","fontWeight","color","destination_city","destination_country","date","flight_date","space","paddingVertical","space_left","backgroundColor","alignItems","marginVertical","_id","StyleSheet","create","flexDirection","flex","marginBottom","height","borderBottomWidth","hairlineWidth","borderColor","shadowColor","shadowOffset","shadowOpacity","shadowRadius","elevation","borderStyle","borderWidth","borderRadius"],"sources":["/home/dagmawi/personal/borsa/ui/borsa-ui/src/components/Connect/TravelerCard.js"],"sourcesContent":["import {View, Image, Text, StyleSheet, ImageBackground, Pressable} from 'react-native'\nimport { Entypo, MaterialIcons } from '@expo/vector-icons';\nimport axios from 'axios';\nimport { useDispatch, useSelector } from 'react-redux';\nimport { useEffect, useRef } from 'react';\nimport { accessChat } from '../../features/chat/chatSlice';\nimport { useNavigation } from '@react-navigation/native';\nimport { getSenderFull } from '../../ChatConfig/ChatLogics'\nimport { ChatState } from '../../context/ChatProvider';\nimport { API_BASE_URL } from '../../utils/config';\n\nconst TravelerCard = ({traveler}) => {\n    const { user } = useSelector((state) => state.auth)\n    // const {chattts, isLoading, isError, message} = useSelector((state) => state.chat)\n    const { selectedChat, setSelectedChat, chats, setChats, chatSelected, setchatSelected } = ChatState(); \n    const dispatch = useDispatch()\n    const navigation = useNavigation();\n    var travelerId = useRef(null)\n    \n    const moveToChatScreen = async(travId) => {\n        alert('hey')\n        // const userId = travId\n        // console.log(userId)\n        // // console.log(travelerId.current)\n        // try{\n        //     const config = {\n        //       headers: {\n        //           Authorization: `Bearer ${user.token}`\n        \n        //       }\n        //   }\n        //     const {data} = await axios.post(`${API_BASE_URL}chat/`, {userId}, config)\n        //     // console.log(data._id)\n        //     setchatSelected(true)\n        \n        //     navigation.navigate('Messaging', {chatId: data._id, userSelected:\n            \n        //         user != null ? getSenderFull(user, data.users).userName : null })\n                \n        //     }\n        //     // return data\n            \n            \n        // catch(err){\n        //     console.log(err)\n        // }\n    }\n\n    \n  return (\n    <View style = {styles.container}>\n        <View style = {{\n            width: '35%'\n        }}>\n            <Image \n                source={{uri: traveler.profilePic}}  \n                style = {styles.image}\n                resizeMode = 'cover'\n             />\n              <View style = {styles.location_container}>\n                <Entypo name=\"location-pin\" size={20} color=\"red\" />\n                <View>\n                    <Text style = {styles.text_loc}>\n                        {traveler.city},\n                    </Text>\n\n                    <Text style = {styles.text_loc2}>\n                        {traveler.country}\n                    </Text>\n\n             </View>\n             </View>\n        </View>\n\n        <View style = {{\n            width: '70%',\n            paddingHorizontal: 10\n        }}>\n            <Text style = {{\n                fontSize: 20,\n                marginTop: 2\n            }}>\n                {traveler.firstName + \" \" + traveler.lastName}\n            </Text>\n            <View style = {styles.destination}>\n           <MaterialIcons name=\"flight-takeoff\" size={24} color=\"#593196\" style = {{\n                 marginRight: 2,\n           }} />\n            \n            \n                <Text style = {{\n                    fontWeight: 'bold',\n                    fontSize: 15,\n                    marginRight: 2,\n                    marginTop: 3,\n                    color: '#13b955'\n                }}>\n                    {traveler.destination_city}, \n                </Text>\n                <Text style = {{\n                    fontSize: 15,\n                    marginTop: 3,\n                    color: '#13b955'\n                }}>\n                    {traveler.destination_country}\n                </Text>\n           </View>\n           <View style = {styles.date}>\n            <Text style = {{\n                fontWeight: \"\",\n                color: '#343a40'\n            }}>\n                {traveler.flight_date}\n            </Text>\n           </View>\n           <View style = {styles.space}>\n            <View style = {{\n                paddingVertical: 5\n            }}>\n            <Text style = {{\n                fontWeight: 'bold',\n                 fontSize: 18,  \n            }}>\n                {traveler.space_left}\n            </Text>\n            </View>\n            </View>\n            <Pressable style = {{\n                backgroundColor: '#a991d4',\n                width: 200,\n                alignItems: 'center',\n                marginVertical: 4,\n                paddingVertical: 5,\n                // borderRadius: 30\n\n            }}\n            onPress={() => moveToChatScreen(traveler._id)}>\n                <Text style = {{\n                    fontSize: 18\n                }}>\n                    Start chatting\n                </Text>\n            </Pressable>\n        </View>\n        <View>\n            <Pressable>\n                <Text style = {{\n                    color: \"black\",\n                    fontSize: 18,\n                }}>\n                    View profile\n                </Text>\n            </Pressable>\n        </View>\n    </View>\n  )\n}\n\nconst styles = StyleSheet.create({\n    container: {\n        flexDirection: 'row',\n        backgroundColor: 'white',\n        flex : 1,\n        marginBottom: 8,\n        height: 170,\n       // backgroundColor: \"#E8E8E8\",\n        paddingVertical: 10,\n        paddingHorizontal: 5,\n        //borderStyle: 'solid',\n        borderBottomWidth: StyleSheet.hairlineWidth,\n        borderColor: '#E8E8E8',\n        shadowColor: \"#000\",\n        shadowOffset: {\n            width: 0,\n            height: 1,\n        },\n        shadowOpacity: 0.18,\n        shadowRadius: 1.00,\n\n        elevation: 1,\n        \n    },\n\n    image: {\n        height: 100,\n        width: 100,\n        // borderRadius: \"50%\",\n        borderStyle: 'solid',\n        borderWidth: 2,\n        borderColor: '#13b955'\n        \n    },\n\n    location_container: {\n        flexDirection: 'row',\n        paddingVertical: 5\n    },\n\n    destination: {\n        flexDirection: 'row',\n       // backgroundColor: \"#13b955\",\n        marginVertical: 5,\n        borderRadius: 30,\n        paddingHorizontal: 6,\n        width: 220\n    },\n\n    space: {\n        width: 70,\n    \n    }\n})\n\nexport default TravelerCard"],"mappings":"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"},"metadata":{},"sourceType":"module"}