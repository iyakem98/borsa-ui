{"ast":null,"code":"import _asyncToGenerator from \"@babel/runtime/helpers/asyncToGenerator\";\nimport AsyncStorage from '@react-native-async-storage/async-storage';\nimport axios from 'axios';\nimport { API_BASE_URL } from \"../../utils/config\";\nvar API_URL = API_BASE_URL + \"chat/\";\nvar accessChat = function () {\n  var _ref = _asyncToGenerator(function* (userId) {\n    var user1 = yield AsyncStorage.getItem(\"user\");\n    var user = JSON.parse(user1);\n    try {\n      var config = {\n        headers: {\n          Authorization: \"Bearer \" + user.token\n        }\n      };\n      var _yield$axios$post = yield axios.post(API_URL, userId, config),\n        data = _yield$axios$post.data;\n      console.log(data);\n      return data;\n    } catch (error) {\n      console.log(\"cannot create chat\");\n    }\n  });\n  return function accessChat(_x) {\n    return _ref.apply(this, arguments);\n  };\n}();\nvar tryChat = function () {\n  var _ref2 = _asyncToGenerator(function* (chatData, token) {\n    var config = {\n      headers: {\n        Authorization: \"Bearer \" + token\n      }\n    };\n    console.log(chatData);\n    var response = axios.post(API_URL + 'try', chatData, config);\n    console.log(response);\n    return response.data;\n  });\n  return function tryChat(_x2, _x3) {\n    return _ref2.apply(this, arguments);\n  };\n}();\nvar fetchChat = function () {\n  var _ref3 = _asyncToGenerator(function* () {\n    var user1 = yield AsyncStorage.getItem(\"user\");\n    var user = JSON.parse(user1);\n    var config = {\n      headers: {\n        Authorization: \"Bearer \" + user.token\n      }\n    };\n    console.log('fetchin in chatService');\n    var _yield$axios$get = yield axios.get(API_URL, config),\n      data = _yield$axios$get.data;\n    return data;\n  });\n  return function fetchChat() {\n    return _ref3.apply(this, arguments);\n  };\n}();\nvar chatService = {\n  accessChat: accessChat,\n  fetchChat: fetchChat,\n  tryChat: tryChat\n};\nexport default chatService;","map":{"version":3,"names":["AsyncStorage","axios","API_BASE_URL","API_URL","accessChat","userId","user1","getItem","user","JSON","parse","config","headers","Authorization","token","post","data","console","log","error","tryChat","chatData","response","fetchChat","get","chatService"],"sources":["/home/dagmawi/personal/borsa/myborsa/borsa-ui/src/features/chat/chatService.js"],"sourcesContent":["import AsyncStorage from '@react-native-async-storage/async-storage'\nimport axios from 'axios'\nimport { API_BASE_URL } from '../../utils/config'\n\nconst API_URL = `${API_BASE_URL}chat/`\nconst accessChat = async(userId) => {\n  const user1 = await  AsyncStorage.getItem(\"user\")\n  const user = JSON.parse(user1)\n  try{\n    const config = {\n      headers: {\n          Authorization: `Bearer ${user.token}`\n\n      }\n  }\n    const {data} = await axios.post(API_URL, userId, config)\n\n    console.log(data)\n    return data\n    \n    }\n    catch(error){\n      console.log(\"cannot create chat\")\n    }\n\n    // console.log(userId)\n\n    \n    \n\n    \n}\n\nconst tryChat = async(chatData, token) => {\n  const config = {\n      headers: {\n          Authorization: `Bearer ${token}`\n\n      }\n  }\n  console.log(chatData)\n  const response = axios.post(API_URL + 'try', chatData, config)\n  \n  console.log(response)\n  \n\n  return response.data \n}\n\nconst fetchChat = async () => {\n  const user1 = await  AsyncStorage.getItem(\"user\")\n  const user = JSON.parse(user1)\n  \n\n    const config = {\n      headers: {\n        Authorization: `Bearer ${user.token}`,\n      },\n    }\n    \n    console.log('fetchin in chatService')\n    // const response = await axios.get(API_URL, config)\n    const {data} = await axios.get(API_URL, config)\n  \n    return data\n  \n \n  }\n// const singleChat = async (chatId) => {\n//   console.log(chatId)\n//   // console.log('in single chat service')\n//   const user1 = await  AsyncStorage.getItem(\"user\")\n//   const user = JSON.parse(user1)\n//   // console.log(user)\n\n//     const config = {\n//       headers: {\n//         Authorization: `Bearer ${user.token}`,\n//       },\n//     }\n//     try{\n//       const {data} = await axios.get(`http://192.168.100.2:5000/api/chat/single/${chatId}`, config)\n//       console.log(data)\n//     }\n//     catch(err){\n//       console.log(err)\n//     }\n//     // console.log('fetchin in chatService')\n//     // const response = await axios.get(API_URL, config)\n   \n//     // return data\n  \n \n//   }\n// const deleteChat = async (chatID) => {\n//   const user1 = await  AsyncStorage.getItem(\"user\")\n//   const user = JSON.parse(user1)\n \n//   try{\n//     const config = {\n//       headers: {\n//         Authorization: `Bearer ${user.token}`,\n//       },\n      \n//     }\n//     console.log(chatID)\n//     // console.log('fetchin in chatService')\n//     // const response = await axios.get(API_URL, config)\n    \n//     // const response =  await axios.get(\"http://localhost:5000/api/chat/remove\", chatID, config)\n//     const response =  await axios.get(API_URL + \"remove\",config)\n    \n//     console.log(response)\n//   }\n//   catch(err){\n//     console.log(err)\n//   }\n    \n   \n  \n \n//   }\n\nconst chatService = {\n    accessChat,\n    fetchChat,\n    tryChat,\n    // singleChat\n   \n}\nexport default chatService"],"mappings":";AAAA,OAAOA,YAAY,MAAM,2CAA2C;AACpE,OAAOC,KAAK,MAAM,OAAO;AACzB,SAASC,YAAY;AAErB,IAAMC,OAAO,GAAMD,YAAY,UAAO;AACtC,IAAME,UAAU;EAAA,6BAAG,WAAMC,MAAM,EAAK;IAClC,IAAMC,KAAK,SAAUN,YAAY,CAACO,OAAO,CAAC,MAAM,CAAC;IACjD,IAAMC,IAAI,GAAGC,IAAI,CAACC,KAAK,CAACJ,KAAK,CAAC;IAC9B,IAAG;MACD,IAAMK,MAAM,GAAG;QACbC,OAAO,EAAE;UACLC,aAAa,cAAYL,IAAI,CAACM;QAElC;MACJ,CAAC;MACC,8BAAqBb,KAAK,CAACc,IAAI,CAACZ,OAAO,EAAEE,MAAM,EAAEM,MAAM,CAAC;QAAjDK,IAAI,qBAAJA,IAAI;MAEXC,OAAO,CAACC,GAAG,CAACF,IAAI,CAAC;MACjB,OAAOA,IAAI;IAEX,CAAC,CACD,OAAMG,KAAK,EAAC;MACVF,OAAO,CAACC,GAAG,CAAC,oBAAoB,CAAC;IACnC;EAQJ,CAAC;EAAA,gBA1BKd,UAAU;IAAA;EAAA;AAAA,GA0Bf;AAED,IAAMgB,OAAO;EAAA,8BAAG,WAAMC,QAAQ,EAAEP,KAAK,EAAK;IACxC,IAAMH,MAAM,GAAG;MACXC,OAAO,EAAE;QACLC,aAAa,cAAYC;MAE7B;IACJ,CAAC;IACDG,OAAO,CAACC,GAAG,CAACG,QAAQ,CAAC;IACrB,IAAMC,QAAQ,GAAGrB,KAAK,CAACc,IAAI,CAACZ,OAAO,GAAG,KAAK,EAAEkB,QAAQ,EAAEV,MAAM,CAAC;IAE9DM,OAAO,CAACC,GAAG,CAACI,QAAQ,CAAC;IAGrB,OAAOA,QAAQ,CAACN,IAAI;EACtB,CAAC;EAAA,gBAdKI,OAAO;IAAA;EAAA;AAAA,GAcZ;AAED,IAAMG,SAAS;EAAA,8BAAG,aAAY;IAC5B,IAAMjB,KAAK,SAAUN,YAAY,CAACO,OAAO,CAAC,MAAM,CAAC;IACjD,IAAMC,IAAI,GAAGC,IAAI,CAACC,KAAK,CAACJ,KAAK,CAAC;IAG5B,IAAMK,MAAM,GAAG;MACbC,OAAO,EAAE;QACPC,aAAa,cAAYL,IAAI,CAACM;MAChC;IACF,CAAC;IAEDG,OAAO,CAACC,GAAG,CAAC,wBAAwB,CAAC;IAErC,6BAAqBjB,KAAK,CAACuB,GAAG,CAACrB,OAAO,EAAEQ,MAAM,CAAC;MAAxCK,IAAI,oBAAJA,IAAI;IAEX,OAAOA,IAAI;EAGb,CAAC;EAAA,gBAlBGO,SAAS;IAAA;EAAA;AAAA,GAkBZ;AAwDH,IAAME,WAAW,GAAG;EAChBrB,UAAU,EAAVA,UAAU;EACVmB,SAAS,EAATA,SAAS;EACTH,OAAO,EAAPA;AAGJ,CAAC;AACD,eAAeK,WAAW"},"metadata":{},"sourceType":"module"}